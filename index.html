<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Fire Readiness Assessment</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            color: #333;
            overflow: hidden;
            height: 100vh;
            position: relative;
        }

        .container {
            height: 100vh;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
            max-width: 850px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            opacity: 0;
            transform: translateX(100%);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            overflow-y: auto;
        }

        .screen.active {
            opacity: 1;
            transform: translateX(0);
        }

        .screen.prev {
            transform: translateX(-100%);
        }

        .header-container {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 35px 20px 20px;
        }

        .back-btn {
            cursor: pointer;
            stroke: #666;
            transition: stroke 0.3s;
        }

        .back-btn:hover {
            stroke: #d70000;
        }

        .progress-container {
            display: flex;
            width: 100%;
            height: 12px;
            border-radius: 6px;
            overflow: hidden;
            gap: 5px;
        }

        .progress-subcontainer {
            flex: 1;
            background-color: #ddd;
            border-radius: 4px;
            position: relative;
            overflow: hidden;
        }

        .progress-bar-fill {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 0%;
            background-color: #d70000;
            transition: width 0.6s ease;
        }

        .intro-screen {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: white;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 40px;
        }

        .intro-title {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 1.5rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #ff6b35;
        }

        .intro-subtitle {
            font-size: 1.1rem;
            margin-bottom: 2rem;
            opacity: 0.9;
            line-height: 1.5;
        }

        .intro-body {
            font-size: 1.2rem;
            line-height: 1.6;
            margin-bottom: 2.5rem;
            max-width: 600px;
        }

        .quiz-content {
            padding: 0 40px 40px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .question {
            font-size: 28px;
            font-weight: bold;
            line-height: 1.4;
            margin-bottom: 20px;
            text-align: center;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 20px;
        }

        .option {
            display: flex;
            align-items: center;
            gap: 12px;
            background: #f7f7f7;
            padding: 16px;
            border-radius: 8px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            font-size: 18px;
            line-height: 1.4;
        }

        .option:hover {
            background: #fdf2f2;
            border-color: #d70000;
        }

        .option.selected {
            background: #fdf2f2;
            border-color: #d70000;
            font-weight: bold;
        }

        .option input[type="radio"] {
            appearance: none;
            -webkit-appearance: none;
            background-color: #fff;
            border: 2px solid #d70000;
            width: 1.25rem;
            height: 1.25rem;
            border-radius: 50%;
            position: relative;
            cursor: pointer;
            transition: border 0.2s ease-in-out;
            flex-shrink: 0;
        }

        .option input[type="radio"]:checked::before {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            width: 10px;
            height: 10px;
            background-color: #d70000;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        .shock-slide {
            background: white;
            color: #333;
            text-align: center;
            padding: 40px;
            justify-content: center;
        }

        .shock-title {
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 1.5rem;
            text-transform: uppercase;
        }

        .shock-title.correct {
            color: #2e7d32;
        }

        .shock-title.incorrect {
            color: #d32f2f;
            animation: pulse 2s infinite;
        }

        .shock-content {
            font-size: 1.3rem;
            line-height: 1.5;
            margin-bottom: 2rem;
            font-weight: 600;
            color: #333;
        }

        .correct-text {
            color: #2e7d32;
            font-weight: 700;
        }

        .close-text {
            color: #f57c00;
            font-weight: 700;
        }

        .incorrect-text {
            color: #d32f2f;
            font-weight: 700;
        }

        .danger-text {
            color: #d32f2f;
            font-weight: 700;
        }

        .shock-title.close {
            color: #f57c00;
        }

        .shock-image {
            margin: 2rem 0;
            padding: 20px;
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            border: 2px solid #ff6b35;
        }

        .continue-btn {
            background: #ff6b35;
            border: none;
            color: white;
            padding: 15px 40px;
            border-radius: 8px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 20px auto;
            display: block;
        }

        .continue-btn:hover {
            background: #ff5722;
            transform: translateY(-2px);
        }

        .cta-primary {
            background: #d70000;
            border: none;
            color: white;
            padding: 15px 40px;
            border-radius: 8px;
            font-size: 26px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 45px auto;
            display: block;
            border-bottom: 4px solid #950909;
            line-height: 1.4;
        }

        .cta-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(215, 0, 0, 0.4);
        }

        .end-card {
            background: white;
            padding: 30px 40px;
            text-align: center;
            justify-content: space-between;
            overflow-y: auto;
        }

        .readiness-badge {
            background: #d70000;
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: 700;
            display: inline-block;
            margin-bottom: 1.5rem;
            text-transform: uppercase;
        }

        .end-headline {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 1rem;
            line-height: 1.1;
            color: #333;
        }

        .end-subhead {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            color: #666;
            line-height: 1.4;
        }

        .benefits {
            list-style: none;
            margin-bottom: 2rem;
            text-align: left;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }

        .benefits li {
            padding: 15px 0;
            border-bottom: 1px solid #eee;
            font-size: 1.1rem;
            display: flex;
            align-items: flex-start;
            line-height: 1.4;
        }

        .benefits li:before {
            content: "‚úì";
            color: #d70000;
            font-weight: bold;
            margin-right: 12px;
            font-size: 1.3rem;
            margin-top: 2px;
        }

        .testimonial {
            background: #f8f8f8;
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #d70000;
            margin: 2rem 0;
            font-style: italic;
            color: #555;
        }

        .image-placeholder {
            background: #f0f0f0;
            border-radius: 12px;
            padding: 30px;
            margin: 1rem 0;
            text-align: center;
            font-size: 0.9rem;
            color: #999;
            border: 2px dashed #ddd;
        }

        /* Risk level themes */
        .dangerously-unprepared {
            background: linear-gradient(135deg, #d32f2f 0%, #8e0000 100%);
            color: white;
        }

        .dangerously-unprepared .readiness-badge {
            background: #ff1744;
            animation: pulse 2s infinite;
        }

        .dangerously-unprepared .end-headline,
        .dangerously-unprepared .end-subhead {
            color: white;
        }

        .false-security {
            background: linear-gradient(135deg, #f57c00 0%, #e65100 100%);
            color: white;
        }

        .false-security .readiness-badge {
            background: #ff9800;
        }

        .false-security .end-headline,
        .false-security .end-subhead {
            color: white;
        }

        .prepared-vulnerable {
            background: linear-gradient(135deg, #1976d2 0%, #0d47a1 100%);
            color: white;
        }

        .prepared-vulnerable .readiness-badge {
            background: #2196f3;
        }

        .prepared-vulnerable .end-headline,
        .prepared-vulnerable .end-subhead {
            color: white;
        }

        .expert-level {
            background: linear-gradient(135deg, #2e7d32 0%, #1b5e20 100%);
            color: white;
        }

        .expert-level .readiness-badge {
            background: #4caf50;
        }

        .expert-level .end-headline,
        .expert-level .end-subhead {
            color: white;
        }

        .legal-footer {
            font-size: 0.8rem;
            color: #999;
            line-height: 1.3;
            margin-top: 2rem;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @media (max-width: 768px) {
            .quiz-content {
                padding: 0 20px 40px;
            }
            .header-container {
                padding: 16px 10px 20px;
            }
            .question {
                font-size: 22px;
            }
            .intro-title {
                font-size: 1.8rem;
            }
            .end-headline {
                font-size: 1.8rem;
            }
            .cta-primary, .continue-btn {
                font-size: 18px;
                padding: 12px 30px;
            }
            .shock-title {
                font-size: 1.5rem;
            }
            .shock-content {
                font-size: 1.1rem;
            }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Introduction Screen -->
        <div class="screen intro-screen active" id="screen-intro">
            <div class="intro-title">HOME FIRE READINESS ASSESSMENT</div>
            <div class="intro-subtitle">INTRODUCTION</div>
            <div class="intro-body">
                In the next 24 hours, <strong>3,400 homes will catch fire</strong>. Will yours be one of them? 
                <br><br>
                This 3-minute assessment will reveal if you're prepared to save your family when seconds count‚Ä¶ 
                <br><br>
                <strong>Or if you're gambling with their lives.</strong>
            </div>
            <button class="cta-primary" onclick="startAssessment()">Begin Assessment</button>
        </div>

        <!-- Question 1 -->
        <div class="screen" id="screen-q1">
            <div class="header-container">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="back-btn" onclick="goBack()">
                    <path d="M10 6L4 12L10 18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M4 12H20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <div class="progress-container">
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill" style="width: 33%;"></div>
                    </div>
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill"></div>
                    </div>
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill"></div>
                    </div>
                </div>
            </div>
            <div class="quiz-content">
                <div class="question">If a grease fire erupted on your stove RIGHT NOW, what would you grab first?</div>
                <div class="options">
                    <label class="option" onclick="selectAnswer(this, 5, 'shock1', 'incorrect')">
                        <input type="radio" name="q1">
                        <span>Water from the sink</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 10, 'shock1', 'incorrect')">
                        <input type="radio" name="q1">
                        <span>Flour or sugar to smother it</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 20, 'shock1', 'correct')">
                        <input type="radio" name="q1">
                        <span>A lid to cover the pan</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 30, 'shock1', 'correct')">
                        <input type="radio" name="q1">
                        <span>Fire Extinguisher</span>
                    </label>
                </div>
            </div>
        </div>

        <!-- Shock Slide 1 -->
        <div class="screen shock-slide" id="screen-shock1">
            <div class="shock-title" id="shock1-title">DEADLY MISTAKE</div>
            <div class="shock-content" id="shock1-content">
                <span class="danger-text">Water on a grease fire creates a 30-foot fireball. Flour and sugar are EXPLOSIVES when airborne, and will absolutely burn your house down!</span>
            </div>
            <div class="shock-image">
                <div class="image-placeholder">[VIDEO: grease_fire_explosion_stove_woman_cooking 1080x720]</div>
            </div>
            <button class="continue-btn" onclick="nextQuestion('q2')">Continue Assessment</button>
        </div>

        <!-- Question 2 -->
        <div class="screen" id="screen-q2">
            <div class="header-container">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="back-btn" onclick="goBack()">
                    <path d="M10 6L4 12L10 18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M4 12H20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <div class="progress-container">
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill" style="width: 66%;"></div>
                    </div>
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill"></div>
                    </div>
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill"></div>
                    </div>
                </div>
            </div>
            <div class="quiz-content">
                <div class="question">Your child's bedroom is 23 seconds from your kitchen. How long does it take a kitchen fire to spread that far?</div>
                <div class="options">
                    <label class="option" onclick="selectAnswer(this, 5, 'shock2', 'incorrect')">
                        <input type="radio" name="q2">
                        <span>5-10 minutes</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 15, 'shock2', 'incorrect')">
                        <input type="radio" name="q2">
                        <span>3-5 minutes</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 20, 'shock2', 'close')">
                        <input type="radio" name="q2">
                        <span>1-2 minutes</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 30, 'shock2', 'correct')">
                        <input type="radio" name="q2">
                        <span>Under 30 seconds</span>
                    </label>
                </div>
            </div>
        </div>

        <!-- Shock Slide 2 -->
        <div class="screen shock-slide" id="screen-shock2">
            <div class="shock-title" id="shock2-title">THE TERRIFYING TRUTH</div>
            <div class="shock-content" id="shock2-content">
                <span class="danger-text">Modern homes burn 8X faster than 30 years ago. Synthetic materials create toxic smoke that could kill you or your loved ones in 2-3 breaths. You have less than 30 seconds to act before dying.</span>
            </div>
            <div class="shock-image">
                <div class="image-placeholder">[IMG: fire_spreading_modern_home_man_woman_choking_smoke 1080x720]</div>
            </div>
            <button class="continue-btn" onclick="nextQuestion('q3')">Continue Assessment</button>
        </div>

        <!-- Question 3 -->
        <div class="screen" id="screen-q3">
            <div class="header-container">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="back-btn" onclick="goBack()">
                    <path d="M10 6L4 12L10 18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M4 12H20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <div class="progress-container">
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill" style="width: 100%;"></div>
                    </div>
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill" style="width: 33%;"></div>
                    </div>
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill"></div>
                    </div>
                </div>
            </div>
            <div class="quiz-content">
                <div class="question">Your spouse's clothes catch fire while cooking. What's your IMMEDIATE action?</div>
                <div class="options">
                    <label class="option" onclick="selectAnswer(this, 15, 'shock3', 'close')">
                        <input type="radio" name="q3">
                        <span>Tell them to stop, drop, and roll</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 5, 'shock3', 'incorrect')">
                        <input type="radio" name="q3">
                        <span>Rush them to the shower</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 30, 'shock3', 'correct')">
                        <input type="radio" name="q3">
                        <span>Use a blanket to smother flames</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 20, 'shock3', 'close')">
                        <input type="radio" name="q3">
                        <span>Grab the fire extinguisher</span>
                    </label>
                </div>
            </div>
        </div>

        <!-- Shock Slide 3 -->
        <div class="screen shock-slide" id="screen-shock3">
            <div class="shock-title" id="shock3-title">LIFE OR DEATH MOMENT</div>
            <div class="shock-content" id="shock3-content">
                <span class="danger-text">EVERY SECOND = 3RD DEGREE BURNS: Stop, drop, and roll takes 20+ seconds. Running to water fans the flames. Regular blankets melt into skin. Finding and operating an extinguisher? Your loved one is already in critical condition, burning up in front of your eyes. The damage is already done‚Ä¶</span>
            </div>
            <div class="shock-image">
                <div class="image-placeholder">[IMG: burn_victim_testimonial_family 1080x720]</div>
            </div>
            <button class="continue-btn" onclick="nextQuestion('q4')">Continue Assessment</button>
        </div>

        <!-- Question 4 -->
        <div class="screen" id="screen-q4">
            <div class="header-container">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="back-btn" onclick="goBack()">
                    <path d="M10 6L4 12L10 18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M4 12H20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <div class="progress-container">
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill" style="width: 100%;"></div>
                    </div>
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill" style="width: 66%;"></div>
                    </div>
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill"></div>
                    </div>
                </div>
            </div>
            <div class="quiz-content">
                <div class="question">You smell smoke at 3 AM. Your family is asleep. How many seconds do you have to evacuate everyone?</div>
                <div class="options">
                    <label class="option" onclick="selectAnswer(this, 25, 'shock4')">
                        <input type="radio" name="q4">
                        <span>10-15 minutes</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 20, 'shock4')">
                        <input type="radio" name="q4">
                        <span>5-8 minutes</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 10, 'shock4')">
                        <input type="radio" name="q4">
                        <span>2-3 minutes</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 5, 'shock4')">
                        <input type="radio" name="q4">
                        <span>Less than 90 seconds</span>
                    </label>
                </div>
            </div>
        </div>

        <!-- Shock Slide 4 -->
        <div class="screen shock-slide" id="screen-shock4">
            <div class="shock-title">NIGHTMARE SCENARIO</div>
            <div class="shock-content">
                <strong>While You Read This:</strong> 17 families are waking up to smoke, and most won't make it out unharmed. 
                <br><br>
                Toxic smoke drops visibility to <strong>ZERO in 90 seconds</strong>, while the toxicity can knock you unconscious in just <strong>1-2 breaths</strong>.
            </div>
            <div class="shock-image">
                <div class="image-placeholder">[IMG: smoke_filled_hallway_children_pajamas_floor 1080x720]</div>
            </div>
            <button class="continue-btn" onclick="nextQuestion('q5')">Continue Assessment</button>
        </div>

        <!-- Question 5 -->
        <div class="screen" id="screen-q5">
            <div class="header-container">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="back-btn" onclick="goBack()">
                    <path d="M10 6L4 12L10 18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M4 12H20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <div class="progress-container">
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill" style="width: 100%;"></div>
                    </div>
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill" style="width: 100%;"></div>
                    </div>
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill" style="width: 10%;"></div>
                    </div>
                </div>
            </div>
            <div class="quiz-content">
                <div class="question">Your 73-year-old mother lives alone. If HER kitchen catches fire, how will she put it out?</div>
                <div class="options">
                    <label class="option" onclick="selectAnswer(this, 15, 'shock5')">
                        <input type="radio" name="q5">
                        <span>She has a fire extinguisher somewhere</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 25, 'shock5')">
                        <input type="radio" name="q5">
                        <span>She'll call 911 and wait</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 20, 'shock5')">
                        <input type="radio" name="q5">
                        <span>She knows to use baking soda</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 30, 'shock5')">
                        <input type="radio" name="q5">
                        <span>I... I don't actually know</span>
                    </label>
                </div>
            </div>
        </div>

        <!-- Shock Slide 5 -->
        <div class="screen shock-slide" id="screen-shock5">
            <div class="shock-title">HEARTBREAK PREVENTION</div>
            <div class="shock-content">
                <strong>SOBERING STATISTICS:</strong> Seniors are <strong>2.5X more likely</strong> to die in home fires. 
                <br><br>
                Heavy extinguishers are impossible for arthritic hands. 911 response = <strong>8-12 minutes</strong>. 
                <br><br>
                By then, it's recovery, not rescue.
            </div>
            <div class="shock-image">
                <div class="image-placeholder">[IMG: body_covered_stretcher_ambulance_burnt_house_background 1080x720]</div>
            </div>
            <button class="continue-btn" onclick="nextQuestion('q6')">Continue Assessment</button>
        </div>

        <!-- Question 6 -->
        <div class="screen" id="screen-q6">
            <div class="header-container">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="back-btn" onclick="goBack()">
                    <path d="M10 6L4 12L10 18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M4 12H20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <div class="progress-container">
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill" style="width: 100%;"></div>
                    </div>
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill" style="width: 100%;"></div>
                    </div>
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill" style="width: 30%;"></div>
                    </div>
                </div>
            </div>
            <div class="quiz-content">
                <div class="question">It's Thanksgiving. The turkey fryer ignites. 14 family members are inside. What actually works?</div>
                <div class="options">
                    <label class="option" onclick="selectAnswer(this, 30, 'shock6')">
                        <input type="radio" name="q6">
                        <span>Garden hose</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 20, 'shock6')">
                        <input type="radio" name="q6">
                        <span>Multiple fire extinguishers</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 15, 'shock6')">
                        <input type="radio" name="q6">
                        <span>Sand or dirt</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 25, 'shock6')">
                        <input type="radio" name="q6">
                        <span>Nothing I currently have</span>
                    </label>
                </div>
            </div>
        </div>

        <!-- Shock Slide 6 -->
        <div class="screen shock-slide" id="screen-shock6">
            <div class="shock-title">HOLIDAY HORROR</div>
            <div class="shock-content">
                <strong>FACT:</strong> Turkey fryer fires cause <strong>$15 million in damage</strong> annually. 
                <br><br>
                Water = explosion. Extinguishers empty in 8 seconds. 
                <br><br>
                Most families just <strong>watch their home burn</strong>.
            </div>
            <div class="shock-image">
                <div class="image-placeholder">[VIDEO: turkey_fryer_fire_burning_garage 1080x720]</div>
            </div>
            <button class="continue-btn" onclick="nextQuestion('q7')">Continue Assessment</button>
        </div>

        <!-- Question 7 -->
        <div class="screen" id="screen-q7">
            <div class="header-container">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="back-btn" onclick="goBack()">
                    <path d="M10 6L4 12L10 18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M4 12H20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <div class="progress-container">
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill" style="width: 100%;"></div>
                    </div>
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill" style="width: 100%;"></div>
                    </div>
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill" style="width: 60%;"></div>
                    </div>
                </div>
            </div>
            <div class="quiz-content">
                <div class="question">Your teenager is home alone. Small fire starts. Do they know what to do?</div>
                <div class="options">
                    <label class="option" onclick="selectAnswer(this, 5, 'shock7')">
                        <input type="radio" name="q7">
                        <span>Yes, we've trained them</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 25, 'shock7')">
                        <input type="radio" name="q7">
                        <span>They'd probably use water</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 20, 'shock7')">
                        <input type="radio" name="q7">
                        <span>They'd call me first</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 30, 'shock7')">
                        <input type="radio" name="q7">
                        <span>They'd likely panic</span>
                    </label>
                </div>
            </div>
        </div>

        <!-- Shock Slide 7 -->
        <div class="screen shock-slide" id="screen-shock7">
            <div class="shock-title">TEEN REALITY CHECK</div>
            <div class="shock-content">
                <strong>TERRIFYING SURVEY:</strong> 89% of teens would use the <strong>WRONG method</strong> on a fire. 
                <br><br>
                Their first instinct? By the time they call you, <strong>it's too late</strong>.
            </div>
            <div class="shock-image">
                <div class="image-placeholder">[VIDEO: teen_panicking_fire_breaks_out 1080x720]</div>
            </div>
            <button class="continue-btn" onclick="nextQuestion('q8')">Continue Assessment</button>
        </div>

        <!-- Question 8 -->
        <div class="screen" id="screen-q8">
            <div class="header-container">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="back-btn" onclick="goBack()">
                    <path d="M10 6L4 12L10 18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M4 12H20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <div class="progress-container">
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill" style="width: 100%;"></div>
                    </div>
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill" style="width: 100%;"></div>
                    </div>
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill" style="width: 80%;"></div>
                    </div>
                </div>
            </div>
            <div class="quiz-content">
                <div class="question">You keep a fire extinguisher. But honestly, when did you last check if it works?</div>
                <div class="options">
                    <label class="option" onclick="selectAnswer(this, 5, 'shock8')">
                        <input type="radio" name="q8">
                        <span>This month</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 10, 'shock8')">
                        <input type="radio" name="q8">
                        <span>This year</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 20, 'shock8')">
                        <input type="radio" name="q8">
                        <span>Can't remember</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 25, 'shock8')">
                        <input type="radio" name="q8">
                        <span>I don't even know how to check</span>
                    </label>
                </div>
            </div>
        </div>

        <!-- Shock Slide 8 -->
        <div class="screen shock-slide" id="screen-shock8">
            <div class="shock-title">DEADLY FALSE SECURITY</div>
            <div class="shock-content">
                <strong>SHOCKING:</strong> 75% of home fire extinguishers <strong>FAIL when needed</strong>. 
                <br><br>
                Pressure gauges lie. Powder clumps. Mechanisms corrode. 
                <br><br>
                Your "protection" might be an <strong>empty can</strong>.
            </div>
            <div class="shock-image">
                <div class="image-placeholder">[IMG: failed_expired_fire_extinguisher 1080x720]</div>
            </div>
            <button class="continue-btn" onclick="nextQuestion('q9')">Final Question</button>
        </div>

        <!-- Question 9 -->
        <div class="screen" id="screen-q9">
            <div class="header-container">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="back-btn" onclick="goBack()">
                    <path d="M10 6L4 12L10 18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M4 12H20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <div class="progress-container">
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill" style="width: 100%;"></div>
                    </div>
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill" style="width: 100%;"></div>
                    </div>
                    <div class="progress-subcontainer">
                        <div class="progress-bar-fill" style="width: 100%;"></div>
                    </div>
                </div>
            </div>
            <div class="quiz-content">
                <div class="question"><strong>Final question:</strong> If a fire started in the next 60 seconds, what's your honest confidence level in saving your family?</div>
                <div class="options">
                    <label class="option" onclick="selectAnswer(this, 10, 'shock9')">
                        <input type="radio" name="q9">
                        <span>100% confident</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 15, 'shock9')">
                        <input type="radio" name="q9">
                        <span>Somewhat prepared</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 25, 'shock9')">
                        <input type="radio" name="q9">
                        <span>Hope for the best</span>
                    </label>
                    <label class="option" onclick="selectAnswer(this, 30, 'shock9')">
                        <input type="radio" name="q9">
                        <span>We're not ready</span>
                    </label>
                </div>
            </div>
        </div>

        <!-- Shock Slide 9 -->
        <div class="screen shock-slide" id="screen-shock9">
            <div class="shock-title">THE WAKE-UP CALL</div>
            <div class="shock-content">
                <strong>HERE'S THE TRUTH:</strong> Even "prepared" homes fail because traditional methods are too slow, too complicated, or too unreliable when panic strikes. 
                <br><br>
                You need something <strong>ANYONE can use in ONE SECOND</strong>.
            </div>
            <button class="continue-btn" onclick="calculateResults()">See My Results</button>
        </div>

        <!-- Result: Dangerously Unprepared (0-39%) -->
        <div class="screen end-card dangerously-unprepared" id="screen-result-0">
            <div class="quiz-content">
                <div class="readiness-badge">üö® DANGEROUSLY UNPREPARED</div>
                <div class="end-headline">Your Fire Readiness Level: DANGEROUSLY UNPREPARED</div>
                <div class="end-subhead">Your score reveals a terrifying truth: You're making the same deadly mistakes that cost <strong>2,720 American lives last year</strong>.</div>
                
                <div class="testimonial">
                    <strong>Real Story:</strong> "I thought I was prepared with my kitchen extinguisher. When the fire started, it was empty. My kitchen was gone in 4 minutes." <br>- Mark T., Lost His Home
                </div>

                <div class="end-subhead"><strong>Why You Need The Emergency Fire Blanket NOW:</strong></div>
                <ul class="benefits">
                    <li><strong>Works 100% of the time</strong> (no maintenance, no expiration)</li>
                    <li><strong>Deploys in 1 second</strong> (faster than finding an extinguisher)</li>
                    <li><strong>Anyone can use</strong> (kids, elderly, even while holding a baby)</li>
                </ul>

                <button class="cta-primary" onclick="openStore()">Fix My Dangerous Fire Gaps with the Emergency Fire Blanket ‚Üí</button>
                
                <div class="image-placeholder">[IMG: urgent_efb_deployment_family_kitchen 1080x1080]</div>
                
                <div class="legal-footer">For small household fires only. Always call emergency services for unsafe situations.</div>
            </div>
        </div>

        <!-- Result: False Sense of Security (40-59%) -->
        <div class="screen end-card false-security" id="screen-result-40">
            <div class="quiz-content">
                <div class="readiness-badge">‚ö†Ô∏è FALSE SENSE OF SECURITY</div>
                <div class="end-headline">Your Fire Readiness Level: FALSE SENSE OF SECURITY</div>
                <div class="end-subhead">You know some basics, but here's the problem: <strong>Partial preparation creates deadly overconfidence</strong>.</div>
                
                <div class="testimonial">
                    <strong>Consider This:</strong> "We had smoke detectors and an extinguisher. But when my daughter's dress caught fire, I froze. Those 'preparations' meant nothing." <br>- Jennifer K.
                </div>

                <div class="end-subhead"><strong>The Missing Link: Your Emergency Fire Blanket</strong></div>
                <ul class="benefits">
                    <li><strong>No thinking required</strong> (grab and drop - works in pure panic)</li>
                    <li><strong>Stops ALL fire types</strong> (grease, electrical, clothing, chemical)</li>
                    <li><strong>Instant deployment</strong> (while extinguishers need reading, aiming, pulling pins)</li>
                </ul>

                <button class="cta-primary" onclick="openStore()">Complete My Fire Protection with the Emergency Fire Blanket ‚Üí</button>
                
                <div class="image-placeholder">[IMG: efb_instant_deployment_comparison 1080x1080]</div>
                
                <div class="legal-footer">For small household fires only. Always call emergency services for unsafe situations.</div>
            </div>
        </div>

        <!-- Result: Prepared But Vulnerable (60-79%) -->
        <div class="screen end-card prepared-vulnerable" id="screen-result-60">
            <div class="quiz-content">
                <div class="readiness-badge">‚úì PREPARED BUT VULNERABLE</div>
                <div class="end-headline">Your Fire Readiness Level: PREPARED BUT VULNERABLE</div>
                <div class="end-subhead"><strong>Good news:</strong> You're more prepared than 73% of homeowners. <strong>Bad news:</strong> That missing 20% is where disasters happen.</div>
                
                <div class="testimonial">
                    <strong>Fire Chief Insight:</strong> "The most prepared homes often lack the ONE tool that requires zero training - the Emergency Fire Blanket. It's what we grab first." <br>- Chief Rodriguez, 28-Year Veteran
                </div>

                <div class="end-subhead"><strong>The Professional's Secret: Emergency Fire Blanket</strong></div>
                <ul class="benefits">
                    <li><strong>Works when you can't think</strong> (no PASS method to remember)</li>
                    <li><strong>One-handed operation</strong> (while calling 911 or carrying children)</li>
                    <li><strong>Covers scenarios where extinguishers CAN'T</strong> (grease explosions)</li>
                </ul>

                <button class="cta-primary" onclick="openStore()">Add the Firefighter's Secret Weapon - Emergency Fire Blanket ‚Üí</button>
                
                <div class="image-placeholder">[IMG: firefighter_efb_professional_endorsement 1080x1080]</div>
                
                <div class="legal-footer">For small household fires only. Always call emergency services for unsafe situations.</div>
            </div>
        </div>

        <!-- Result: Expert Level (80-100%) -->
        <div class="screen end-card expert-level" id="screen-result-80">
            <div class="quiz-content">
                <div class="readiness-badge">‚úÖ EXPERT LEVEL</div>
                <div class="end-headline">Your Fire Readiness Level: EXPERT LEVEL</div>
                <div class="end-subhead"><strong>Impressive!</strong> You're in the top 5% of fire-prepared homes. You understand the dangers and have solid systems.</div>
                
                <div class="end-subhead">But here's what experts know: The difference between "very prepared" and "fully protected" is having <strong>redundant, fail-safe systems</strong>.</div>
                
                <div class="testimonial">
                    <strong>Professional Testimony:</strong> "After 20 years as a firefighter, I keep Emergency Fire Blankets in my home. Why? Because they work. Plain and simple." <br>- Captain Davis, Fire Safety Instructor
                </div>

                <div class="end-subhead"><strong>The Expert's Insurance: Emergency Fire Blanket</strong></div>
                <ul class="benefits">
                    <li><strong>Zero-maintenance readiness</strong> (unlike extinguishers needing checks)</li>
                    <li><strong>Visitor-friendly</strong> (guests can use it without training)</li>
                    <li><strong>Scenario-proof</strong> (works for almost every fire type)</li>
                </ul>

                <button class="cta-primary" onclick="openStore()">Complete My Expert-Level Protection with Emergency Fire Blankets ‚Üí</button>
                
                <div class="image-placeholder">[IMG: expert_level_efb_multiple_locations 1080x1080]</div>
                
                <div class="legal-footer">For small household fires only. Always call emergency services for unsafe situations.</div>
            </div>
        </div>
    </div>

    <script>
        let currentScreen = 'intro';
        let score = 0;
        let screenHistory = ['intro'];
        let currentQuestion = 0;

        function showScreen(screenId) {
            // Hide current screen
            const current = document.querySelector('.screen.active');
            if (current) {
                current.classList.remove('active');
                current.classList.add('prev');
            }

            // Show new screen
            setTimeout(() => {
                if (current) current.classList.remove('prev');
                const newScreen = document.getElementById(`screen-${screenId}`);
                if (newScreen) {
                    newScreen.classList.add('active', 'fade-in');
                    setTimeout(() => newScreen.classList.remove('fade-in'), 600);
                }
            }, 200);

            currentScreen = screenId;
            screenHistory.push(screenId);
        }

        function goBack() {
            if (screenHistory.length > 2) {
                screenHistory.pop(); // Remove current
                const previousScreen = screenHistory[screenHistory.length - 1];
                showScreen(previousScreen.replace('screen-', ''));
            }
        }

        function startAssessment() {
            showScreen('q1');
            trackEvent('assessment_started');
        }

        function selectAnswer(optionElement, points, nextScreen, answerType) {
            // Visual feedback
            const allOptions = optionElement.parentElement.querySelectorAll('.option');
            allOptions.forEach(opt => opt.classList.remove('selected'));
            optionElement.classList.add('selected');
            
            // Check the radio
            const radio = optionElement.querySelector('input[type="radio"]');
            radio.checked = true;

            score += points;
            currentQuestion++;

            // Set shock slide content based on answer type
            setShockContent(nextScreen, answerType);

            setTimeout(() => showScreen(nextScreen), 300);
        }

        function setShockContent(shockScreen, answerType) {
            const titleElement = document.getElementById(`${shockScreen}-title`);
            const contentElement = document.getElementById(`${shockScreen}-content`);
            
            if (!titleElement || !contentElement) return;

            // Content for each shock slide
            const shockData = {
                shock1: {
                    correct: {
                        title: "That's Correct!",
                        content: `<span class="correct-text">That's correct!</span> But did you know that <span class="danger-text">water on a grease fire can create a 30-foot fireball</span>? <span class="danger-text">Flour and sugar are EXPLOSIVES</span> when airborne, and will absolutely burn your house down!`
                    },
                    close: {
                        title: "You're close but this is what you need to know",
                        content: `<span class="close-text">You're close but this is what you need to know</span> - <span class="danger-text">water on a grease fire can create a 30-foot fireball</span>. <span class="danger-text">Flour and sugar are EXPLOSIVES</span> when airborne, and will absolutely burn your house down!`
                    },
                    incorrect: {
                        title: "Wrong!",
                        content: `<span class="incorrect-text">DEADLY MISTAKE:</span> <span class="danger-text">Water on a grease fire creates a 30-foot fireball. Flour and sugar are EXPLOSIVES</span> when airborne, and will absolutely burn your house down!`
                    }
                },
                shock2: {
                    correct: {
                        title: "That's Right!",
                        content: `<span class="correct-text">That's Right!</span> But here's what so many people don't know: Modern homes burn <span class="danger-text">8X faster</span> than 30 years ago. Synthetic materials create <span class="danger-text">toxic smoke that could kill you or your loved ones in 2-3 breaths</span>. You have <span class="danger-text">less than 30 seconds</span> to act before dying.`
                    },
                    close: {
                        title: "You're close but this is what you need to know",
                        content: `<span class="close-text">You're close but this is what you need to know</span> - Modern homes burn <span class="danger-text">8X faster</span> than 30 years ago. Synthetic materials create <span class="danger-text">toxic smoke that could kill you or your loved ones in 2-3 breaths</span>. You have <span class="danger-text">less than 30 seconds</span> to act before dying.`
                    },
                    incorrect: {
                        title: "Wrong!",
                        content: `<span class="incorrect-text">Wrong!</span> THE TERRIFYING TRUTH: Modern homes burn <span class="danger-text">8X faster</span> than 30 years ago. Synthetic materials create <span class="danger-text">toxic smoke that could kill you or your loved ones in 2-3 breaths</span>. You have <span class="danger-text">less than 30 seconds</span> to act before dying.`
                    }
                },
                shock3: {
                    correct: {
                        title: "That's Right!",
                        content: `<span class="correct-text">That's Right!</span> <span class="danger-text">EVERY SECOND = 3RD DEGREE BURNS:</span> Stop, drop, and roll takes <span class="danger-text">20+ seconds</span>. Running to water <span class="danger-text">fans the flames</span>. Regular blankets <span class="danger-text">melt into skin</span>. Finding and operating an extinguisher? Your loved one is already in critical condition, burning up in front of your eyes. The damage is already done‚Ä¶`
                    },
                    close: {
                        title: "You're close but this is what you need to know",
                        content: `<span class="close-text">You're close but this is what you need to know</span> - <span class="danger-text">EVERY SECOND = 3RD DEGREE BURNS:</span> Stop, drop, and roll takes <span class="danger-text">20+ seconds</span>. Running to water <span class="danger-text">fans the flames</span>. Regular blankets <span class="danger-text">melt into skin</span>. Finding and operating an extinguisher? Your loved one is already in critical condition, burning up in front of your eyes. The damage is already done‚Ä¶`
                    },
                    incorrect: {
                        title: "Wrong!",
                        content: `<span class="incorrect-text">Wrong!</span> <span class="danger-text">EVERY SECOND = 3RD DEGREE BURNS:</span> Stop, drop, and roll takes <span class="danger-text">20+ seconds</span>. Running to water <span class="danger-text">fans the flames</span>. Regular blankets <span class="danger-text">melt into skin</span>. Finding and operating an extinguisher? Your loved one is already in critical condition, burning up in front of your eyes. The damage is already done‚Ä¶`
                    }
                },
                shock4: {
                    correct: {
                        title: "You're Right!",
                        content: `<span class="correct-text">You're Right! But‚Ä¶</span> While You Read This: <span class="danger-text">17 families are waking up to smoke</span>, and most won't make it out unharmed. <span class="danger-text">Toxic smoke drops visibility to ZERO in 90 seconds</span>, while the toxicity can <span class="danger-text">knock you unconscious in just 1-2 breaths</span>.`
                    },
                    close: {
                        title: "You're close but this is what you need to know",
                        content: `<span class="close-text">You're close but this is what you need to know</span> - While You Read This: <span class="danger-text">17 families are waking up to smoke</span>, and most won't make it out unharmed. <span class="danger-text">Toxic smoke drops visibility to ZERO in 90 seconds</span>, while the toxicity can <span class="danger-text">knock you unconscious in just 1-2 breaths</span>.`
                    },
                    incorrect: {
                        title: "Wrong!",
                        content: `<span class="incorrect-text">Wrong!</span> While You Read This: <span class="danger-text">17 families are waking up to smoke</span>, and most won't make it out unharmed. <span class="danger-text">Toxic smoke drops visibility to ZERO in 90 seconds</span>, while the toxicity can <span class="danger-text">knock you unconscious in just 1-2 breaths</span>.`
                    }
                },
                shock5: {
                    correct: {
                        title: "Correct!",
                        content: `<span class="correct-text">Correct!</span> But did you know <span class="danger-text">Seniors are 2.5X more likely to die in home fires</span>? Heavy extinguishers are <span class="danger-text">impossible for arthritic hands</span>. <span class="danger-text">911 response = 8-12 minutes</span>. By then, it's recovery, not rescue.`
                    },
                    close: {
                        title: "You're close but this is what you need to know",
                        content: `<span class="close-text">You're close but this is what you need to know</span> - <span class="danger-text">Seniors are 2.5X more likely to die in home fires</span>. Heavy extinguishers are <span class="danger-text">impossible for arthritic hands</span>. <span class="danger-text">911 response = 8-12 minutes</span>. By then, it's recovery, not rescue.`
                    },
                    incorrect: {
                        title: "Wrong!",
                        content: `<span class="incorrect-text">Wrong!</span> SOBERING STATISTICS: <span class="danger-text">Seniors are 2.5X more likely to die in home fires</span>. Heavy extinguishers are <span class="danger-text">impossible for arthritic hands</span>. <span class="danger-text">911 response = 8-12 minutes</span>. By then, it's recovery, not rescue.`
                    }
                },
                shock6: {
                    correct: {
                        title: "Great job!",
                        content: `<span class="correct-text">Great job!</span> FACT: Turkey fryer fires cause <span class="danger-text">$15 million in damage</span> annually. <span class="danger-text">Water = explosion</span>. <span class="danger-text">Extinguishers empty in 8 seconds</span>. Most families just <span class="danger-text">watch their home burn</span>.`
                    },
                    close: {
                        title: "You're close but this is what you need to know",
                        content: `<span class="close-text">You're close but this is what you need to know</span> - Turkey fryer fires cause <span class="danger-text">$15 million in damage</span> annually. <span class="danger-text">Water = explosion</span>. <span class="danger-text">Extinguishers empty in 8 seconds</span>. Most families just <span class="danger-text">watch their home burn</span>.`
                    },
                    incorrect: {
                        title: "Wrong!",
                        content: `<span class="incorrect-text">Wrong!</span> FACT: Turkey fryer fires cause <span class="danger-text">$15 million in damage</span> annually. <span class="danger-text">Water = explosion</span>. <span class="danger-text">Extinguishers empty in 8 seconds</span>. Most families just <span class="danger-text">watch their home burn</span>.`
                    }
                },
                shock7: {
                    correct: {
                        title: "Great!",
                        content: `<span class="correct-text">Great!</span> But did you know <span class="danger-text">89% of teens would use the WRONG method</span> on a fire. Their first instinct? By the time they call you, <span class="danger-text">it's too late</span>.`
                    },
                    close: {
                        title: "You're close but this is what you need to know",
                        content: `<span class="close-text">You're close but this is what you need to know</span> - <span class="danger-text">89% of teens would use the WRONG method</span> on a fire. Their first instinct? By the time they call you, <span class="danger-text">it's too late</span>.`
                    },
                    incorrect: {
                        title: "That's not good‚Ä¶",
                        content: `<span class="incorrect-text">That's not good‚Ä¶</span> TERRIFYING SURVEY: <span class="danger-text">89% of teens would use the WRONG method</span> on a fire. Their first instinct? By the time they call you, <span class="danger-text">it's too late</span>.`
                    }
                },
                shock8: {
                    correct: {
                        title: "Great Job!",
                        content: `<span class="correct-text">Great Job!</span> But did you know: <span class="danger-text">75% of home fire extinguishers FAIL when needed</span>. Pressure gauges lie. <span class="danger-text">Powder clumps</span>. Mechanisms corrode. Your "protection" might be an <span class="danger-text">empty can</span>.`
                    },
                    close: {
                        title: "You're close but this is what you need to know",
                        content: `<span class="close-text">You're close but this is what you need to know</span> - <span class="danger-text">75% of home fire extinguishers FAIL when needed</span>. Pressure gauges lie. <span class="danger-text">Powder clumps</span>. Mechanisms corrode. Your "protection" might be an <span class="danger-text">empty can</span>.`
                    },
                    incorrect: {
                        title: "That's Not Good‚Ä¶",
                        content: `<span class="incorrect-text">That's Not Good‚Ä¶</span> SHOCKING: <span class="danger-text">75% of home fire extinguishers FAIL when needed</span>. Pressure gauges lie. <span class="danger-text">Powder clumps</span>. Mechanisms corrode. Your "protection" might be an <span class="danger-text">empty can</span>.`
                    }
                },
                shock9: {
                    correct: {
                        title: "Perfect!",
                        content: `<span class="correct-text">Perfect!</span> BUT HERE'S THE TRUTH: Even "prepared" homes fail because traditional methods are <span class="danger-text">too slow, too complicated, or too unreliable</span> when panic strikes. You need something <span class="danger-text">ANYONE can use in ONE SECOND</span>.`
                    },
                    close: {
                        title: "You're close but this is what you need to know",
                        content: `<span class="close-text">You're close but this is what you need to know</span> - Even "prepared" homes fail because traditional methods are <span class="danger-text">too slow, too complicated, or too unreliable</span> when panic strikes. You need something <span class="danger-text">ANYONE can use in ONE SECOND</span>.`
                    },
                    incorrect: {
                        title: "We need to fix this‚Ä¶",
                        content: `<span class="incorrect-text">We need to fix this‚Ä¶</span> HERE'S THE TRUTH: Even "prepared" homes fail because traditional methods are <span class="danger-text">too slow, too complicated, or too unreliable</span> when panic strikes. You need something <span class="danger-text">ANYONE can use in ONE SECOND</span>.`
                    }
                }
            };

            const data = shockData[shockScreen];
            if (data) {
                const content = data[answerType];
                if (content) {
                    titleElement.textContent = content.title;
                    titleElement.className = `shock-title ${answerType}`;
                    contentElement.innerHTML = content.content;
                }
            }
        }

        function nextQuestion(questionId) {
            showScreen(questionId);
        }

        function calculateResults() {
            // Show brief analyzing overlay
            const analyzing = document.createElement('div');
            analyzing.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.9);
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                z-index: 1000;
                font-size: 1.3rem;
                font-weight: 600;
                color: white;
                text-align: center;
            `;
            analyzing.innerHTML = `
                <div style="margin-bottom: 2rem;">Calculating your fire readiness...</div>
                <div style="width: 40px; height: 40px; border: 3px solid rgba(255,255,255,0.3); border-top: 3px solid white; border-radius: 50%; animation: spin 1s linear infinite;"></div>
            `;
            document.body.appendChild(analyzing);

            setTimeout(() => {
                document.body.removeChild(analyzing);
                
                // Calculate readiness percentage (normal scoring - higher points = better prepared)
                const readinessPercentage = Math.round((score / 270) * 100);
                
                // Route to appropriate result
                if (readinessPercentage >= 80) {
                    showScreen('result-80'); // Expert Level
                } else if (readinessPercentage >= 60) {
                    showScreen('result-60'); // Prepared But Vulnerable
                } else if (readinessPercentage >= 40) {
                    showScreen('result-40'); // False Sense of Security
                } else {
                    showScreen('result-0'); // Dangerously Unprepared
                }

                trackEvent('assessment_completed', { 
                    score: score,
                    readiness_percentage: readinessPercentage,
                    category: getCategory(readinessPercentage)
                });
            }, 1500);
        }

        function getCategory(percentage) {
            if (percentage >= 80) return 'expert_level';
            if (percentage >= 60) return 'prepared_vulnerable';
            if (percentage >= 40) return 'false_security';
            return 'dangerously_unprepared';
        }

        function openStore() {
            // AppLovin/MRAID compliant store open
            if (typeof mraid !== 'undefined' && mraid.open) {
                mraid.open('https://order.preparedhero.com/quiz-efb-sp?utm_source=applovin&utm_campaign=fire_readiness');
            } else if (window.parent && window.parent !== window) {
                // Fallback for iframe context
                window.parent.postMessage({
                    type: 'open_store',
                    url: 'https://order.preparedhero.com/quiz-efb-sp?utm_source=applovin&utm_campaign=fire_readiness'
                }, '*');
            } else {
                // Fallback for testing
                window.open('https://order.preparedhero.com/quiz-efb-sp?utm_source=applovin&utm_campaign=fire_readiness', '_blank');
            }
        }

        // Track engagement for AppLovin
        function trackEvent(eventName, data = {}) {
            if (window.parent && window.parent !== window) {
                window.parent.postMessage({
                    type: 'track_event',
                    event: eventName,
                    data: data
                }, '*');
            }
        }

        // MRAID initialization for AppLovin
        if (typeof mraid !== 'undefined') {
            if (mraid.getState() === 'loading') {
                mraid.addEventListener('ready', function() {
                    console.log('MRAID Ready');
                });
            }
        }

        // Prevent scrolling and handle touch events
        document.addEventListener('touchmove', function(e) {
            if (e.target.closest('.screen.active .quiz-content')) {
                // Allow scrolling within quiz content
                return;
            }
            e.preventDefault();
        }, { passive: false });

        // Add haptic feedback
        function addHaptic() {
            if (navigator.vibrate) {
                navigator.vibrate(50);
            }
        }

        document.addEventListener('click', function(e) {
            if (e.target.tagName === 'BUTTON' || e.target.classList.contains('option')) {
                addHaptic();
            }
        });

        // Add spin animation for loading
        const style = document.createElement('style');
        style.textContent = `
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
